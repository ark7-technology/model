<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@ark7/model - v2.0.56</title><meta name="description" content="Documentation for @ark7/model"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@ark7/model - v2.0.56</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@ark7/model - v2.0.56</h1></div><div class="tsd-panel tsd-typography"><h1 id="ark7model" class="tsd-anchor-link">@ark7/model<a href="#ark7model" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1>
<p>In many projects, duplicating identical models can lead to numerous bugs. The
<strong>@ark7/model</strong> library addresses this challenge by offering a unified model
class layer that operates seamlessly across various environments, ensuring
consistent business logic and reducing redundancy.</p>
<p>API Documentation: <a href="https://ark7-technology.github.io/model/">https://ark7-technology.github.io/model/</a></p>
<p>Supported Platforms:</p>
<ul>
<li><a href="https://github.com/ark7-technology/model-mongoose">Node.js (MongoDB)</a></li>
<li>Browser</li>
<li>ProtocolBuffer</li>
</ul>
<hr>
<h2 id="table-of-contents" class="tsd-anchor-link">Table of Contents<a href="#table-of-contents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#quick-start">Quick Start</a>
<ul>
<li><a href="#defining-a-model">Defining a Model</a></li>
</ul>
</li>
<li><a href="#model">Model</a>
<ul>
<li><a href="#model-metadata">Model Metadata</a></li>
<li><a href="#model-configuration">Model Configuration</a></li>
<li><a href="#model-definition">Model Definition</a></li>
<li><a href="#discrimination">Discrimination</a></li>
<li><a href="#mixin">Mixin</a></li>
</ul>
</li>
<li><a href="#field">Field</a>
<ul>
<li><a href="#required-vs-optional">Required vs. Optional</a></li>
<li><a href="#readonly">Readonly</a></li>
<li><a href="#autogen">Autogen</a></li>
<li><a href="#default-values">Default Values</a></li>
<li><a href="#modelmodelize">Model.modelize()</a></li>
<li><a href="#toobject--tojson">.toObject() &amp; .toJSON()</a></li>
<li><a href="#data-level">Data Level</a></li>
<li><a href="#reference">Reference</a></li>
<li><a href="#virtual">Virtual</a></li>
<li><a href="#index">Index</a></li>
<li><a href="#encrypted">Encrypted</a></li>
<li><a href="#tag">Tag</a></li>
<li><a href="#nopersist">NoPersist</a></li>
<li><a href="#present">Present</a></li>
<li><a href="#important">Important</a></li>
<li><a href="#mmap">MMap</a></li>
<li><a href="#idtype">IDType</a></li>
<li><a href="#editable">Editable</a></li>
<li><a href="#proto">Proto</a></li>
<li><a href="#attachment">Attachment</a></li>
</ul>
</li>
<li><a href="#built-in-types">Built-in Types</a>
<ul>
<li><a href="#email">Email</a></li>
<li><a href="#stringuuid">StringUUID</a></li>
<li><a href="#ssn">SSN</a></li>
<li><a href="#phonenumber">PhoneNumber</a></li>
<li><a href="#date">Date</a></li>
<li><a href="#id">ID</a></li>
</ul>
</li>
</ul>
<hr>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Install the package using npm:</p>
<pre><code class="shell"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@ark7/model</span>
</code><button type="button">Copy</button></pre>

<p>Add transform plugin to tsconfig.json:</p>
<pre><code><span class="hl-3">// tsconfig.json</span><br/><br/><span class="hl-1">{</span><br/><span class="hl-1">  ...</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;plugins&quot;</span><span class="hl-1">: [{</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;transform&quot;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-2">&quot;@ark7/model/transformer&quot;</span><br/><span class="hl-1">  }],</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>

<h2 id="quick-start" class="tsd-anchor-link">Quick Start<a href="#quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<h3 id="define-a-model" class="tsd-anchor-link">Define a Model<a href="#define-a-model" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Models are defined by decorating the class with <code>A7Model</code> or using <code>A7Model.provide(ModelClass)</code>.</p>
<pre><code class="Typescript"><span class="hl-3">// models/users.ts</span><br/><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">A7Model</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@ark7/model&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Name</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">  </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-4">first</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-4">last</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-6">enum</span><span class="hl-1"> </span><span class="hl-7">Gender</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-8">MALE</span><span class="hl-1"> = </span><span class="hl-2">&#39;MALE&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">FEMALE</span><span class="hl-1"> = </span><span class="hl-2">&#39;FEMALE&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">User</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">  </span><span class="hl-4">email</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-4">name</span><span class="hl-1">?: </span><span class="hl-7">Name</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-4">gender</span><span class="hl-1">?: </span><span class="hl-7">Gender</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Another way to register User model:</span><br/><span class="hl-3">//</span><br/><span class="hl-3">// A7Model.provide(User)</span>
</code><button type="button">Copy</button></pre>

<h2 id="model" class="tsd-anchor-link">Model<a href="#model" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<h3 id="model-metadata" class="tsd-anchor-link">Model Metadata<a href="#model-metadata" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Once a model is defined, class metadata, field metadata, and model schema can be retrieved through <code>A7Model.getMetadata(ModelClass)</code>. For example:</p>
<pre><code class="Typescript"><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Name</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">first</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">last</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">A7Model</span><span class="hl-1">.</span><span class="hl-0">getMetadata</span><span class="hl-1">(</span><span class="hl-4">Name</span><span class="hl-1">).</span><span class="hl-4">should</span><span class="hl-1">.</span><span class="hl-4">be</span><span class="hl-1">.</span><span class="hl-0">deepEqual</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">modelClass:</span><span class="hl-1"> </span><span class="hl-7">Name</span><span class="hl-1">.</span><span class="hl-4">prototype</span><span class="hl-1">.</span><span class="hl-4">constructor</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">superClass:</span><span class="hl-1"> </span><span class="hl-6">null</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">configs:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">schema:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">props:</span><span class="hl-1"> [</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">          </span><span class="hl-4">modifier:</span><span class="hl-1"> </span><span class="hl-2">&#39;PUBLIC&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;first&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-4">optional:</span><span class="hl-1"> </span><span class="hl-6">false</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-4">readonly:</span><span class="hl-1"> </span><span class="hl-6">false</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">          </span><span class="hl-4">modifier:</span><span class="hl-1"> </span><span class="hl-2">&#39;PUBLIC&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;last&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-4">optional:</span><span class="hl-1"> </span><span class="hl-6">false</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-4">readonly:</span><span class="hl-1"> </span><span class="hl-6">false</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">      ],</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-4">fields:</span><span class="hl-1"> {},</span><br/><span class="hl-1">  </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="model-configuration" class="tsd-anchor-link">Model Configuration<a href="#model-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The <code>@A7Model()</code> decorator (and its alias <code>@Config()</code>) accepts a configuration object that controls model-level behavior. These options affect how the model is serialized, indexed, and integrated with adapters.</p>
<p>Full API reference: <a href="https://ark7-technology.github.io/model/interfaces/StrictConfigOptions.html">StrictConfigOptions</a></p>
<p><strong>Options:</strong></p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>schema</code></td>
<td><code>runtime.Schema</code></td>
<td>The runtime schema (auto-generated by the transformer).</td>
</tr>
<tr>
<td><code>defaultLevel</code></td>
<td><code>number</code></td>
<td>Default data level for all fields in this model.</td>
</tr>
<tr>
<td><code>discriminatorKey</code></td>
<td><code>string</code></td>
<td>The field used to distinguish subclass types in discrimination.</td>
</tr>
<tr>
<td><code>toObject</code></td>
<td><code>DocumentToObjectOptions</code></td>
<td>Default options applied when calling <code>.toObject()</code>.</td>
</tr>
<tr>
<td><code>toJSON</code></td>
<td><code>DocumentToObjectOptions</code></td>
<td>Default options applied when calling <code>.toJSON()</code>.</td>
</tr>
<tr>
<td><code>indexes</code></td>
<td><code>Array&lt;{ fields, options? }&gt;</code></td>
<td>Compound indexes defined via <code>@CompoundIndex()</code>.</td>
</tr>
<tr>
<td><code>mixinClasses</code></td>
<td><code>ModelClass[]</code></td>
<td>Classes mixed into this model via <code>@Mixin()</code>.</td>
</tr>
<tr>
<td><code>protoNestedIn</code></td>
<td><code>string</code></td>
<td>The parent proto message name for Protocol Buffer nesting.</td>
</tr>
<tr>
<td><code>protoMessageName</code></td>
<td><code>string</code></td>
<td>Override the Protocol Buffer message name.</td>
</tr>
</tbody>
</table>
<p><strong>Default Data Level:</strong></p>
<p>Set a default level for all fields, so you don't need to decorate every field individually:</p>
<pre><code class="Typescript"><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({ </span><span class="hl-4">defaultLevel:</span><span class="hl-1"> </span><span class="hl-4">DefaultDataLevel</span><span class="hl-1">.</span><span class="hl-8">SHORT</span><span class="hl-1"> })</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">UserProfile</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">StrictModel</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">displayName</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;  </span><span class="hl-3">// inherits SHORT level</span><br/><span class="hl-1">  </span><span class="hl-4">bio</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;          </span><span class="hl-3">// inherits SHORT level</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">Confidential</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-4">ssn</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;          </span><span class="hl-3">// overridden to CONFIDENTIAL</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Default toObject / toJSON Options:</strong></p>
<p>Configure default serialization behavior at the model level:</p>
<pre><code class="Typescript"><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">toObject:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">virtuals:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">getters:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-4">toJSON:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">virtuals:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">User</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Model</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">firstName</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">lastName</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-6">get</span><span class="hl-1"> </span><span class="hl-0">fullName</span><span class="hl-1">(): </span><span class="hl-7">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-2">`</span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-9">.</span><span class="hl-4">firstName</span><span class="hl-6">}</span><span class="hl-2"> </span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-9">.</span><span class="hl-4">lastName</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Custom Configuration:</strong></p>
<p>The configuration object is extensible â€” you can pass custom key-value pairs and retrieve them via metadata:</p>
<pre><code class="Typescript"><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-7">MyConfig</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">endpoint</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">cacheTTL</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">&lt;</span><span class="hl-7">MyConfig</span><span class="hl-1">&gt;({ </span><span class="hl-4">endpoint:</span><span class="hl-1"> </span><span class="hl-2">&#39;/api/users&#39;</span><span class="hl-1">, </span><span class="hl-4">cacheTTL:</span><span class="hl-1"> </span><span class="hl-10">300</span><span class="hl-1"> })</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">User</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Model</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">name</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-8">configs</span><span class="hl-1"> = </span><span class="hl-4">A7Model</span><span class="hl-1">.</span><span class="hl-0">getMetadata</span><span class="hl-1">(</span><span class="hl-4">User</span><span class="hl-1">).</span><span class="hl-4">configs</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-7">MyConfig</span><span class="hl-1">;</span><br/><span class="hl-4">configs</span><span class="hl-1">.</span><span class="hl-4">endpoint</span><span class="hl-1">  </span><span class="hl-3">// &#39;/api/users&#39;</span><br/><span class="hl-4">configs</span><span class="hl-1">.</span><span class="hl-4">cacheTTL</span><span class="hl-1">  </span><span class="hl-3">// 300</span>
</code><button type="button">Copy</button></pre>

<h3 id="model-definition" class="tsd-anchor-link">Model Definition<a href="#model-definition" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Model-level configuration can be injected using either <code>@A7Model()</code> or <code>@Config()</code>:</p>
<pre><code class="Typescript"><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">&lt;</span><span class="hl-7">ModelConfig</span><span class="hl-1">&gt;({ </span><span class="hl-4">foo:</span><span class="hl-1"> </span><span class="hl-2">&#39;bar&#39;</span><span class="hl-1"> })</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">MCModel</span><span class="hl-1"> { }</span><br/><br/><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-7">ModelConfig</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">foo</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-1">(</span><span class="hl-4">A7Model</span><span class="hl-1">.</span><span class="hl-0">getMetadata</span><span class="hl-1">(</span><span class="hl-4">MCModel</span><span class="hl-1">).</span><span class="hl-4">configs</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-7">ModelConfig</span><span class="hl-1">).</span><span class="hl-4">foo</span><span class="hl-1">.</span><span class="hl-4">should</span><span class="hl-1">.</span><span class="hl-4">be</span><span class="hl-1">.</span><span class="hl-0">equal</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;bar&#39;</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="discrimination" class="tsd-anchor-link">Discrimination<a href="#discrimination" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="Typescript"><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">discriminatorKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;kind&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Event</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">StrictModel</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">kind</span><span class="hl-1">?: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">MouseEvent</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Event</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">foo</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-8">ins</span><span class="hl-1"> = </span><span class="hl-4">EventModel</span><span class="hl-1">.</span><span class="hl-0">modelize</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">kind:</span><span class="hl-1"> </span><span class="hl-2">&#39;MouseEvent&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">foo:</span><span class="hl-1"> </span><span class="hl-2">&#39;bar&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-7">any</span><span class="hl-1">);</span><br/><br/><span class="hl-4">ins</span><span class="hl-1">.</span><span class="hl-4">should</span><span class="hl-1">.</span><span class="hl-4">be</span><span class="hl-1">.</span><span class="hl-0">instanceof</span><span class="hl-1">(</span><span class="hl-4">MouseEvent</span><span class="hl-1">);</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-8">ins2</span><span class="hl-1"> = </span><span class="hl-4">MouseEvent</span><span class="hl-1">.</span><span class="hl-0">modelize</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">foo:</span><span class="hl-1"> </span><span class="hl-2">&#39;bar&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">ins2</span><span class="hl-1">.</span><span class="hl-4">should</span><span class="hl-1">.</span><span class="hl-4">be</span><span class="hl-1">.</span><span class="hl-0">instanceof</span><span class="hl-1">(</span><span class="hl-4">MouseEvent</span><span class="hl-1">);</span><br/><br/><span class="hl-4">ins2</span><span class="hl-1">.</span><span class="hl-0">toObject</span><span class="hl-1">().</span><span class="hl-4">should</span><span class="hl-1">.</span><span class="hl-4">be</span><span class="hl-1">.</span><span class="hl-0">deepEqual</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">kind:</span><span class="hl-1"> </span><span class="hl-2">&#39;MouseEvent&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">foo:</span><span class="hl-1"> </span><span class="hl-2">&#39;bar&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="mixin" class="tsd-anchor-link">Mixin<a href="#mixin" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>A model can mix in other models.</p>
<pre><code class="Typescript"><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">M1</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">foo</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">M2</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">bar</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-1">@</span><span class="hl-0">Mixin</span><span class="hl-1">(</span><span class="hl-8">M1</span><span class="hl-1">)</span><br/><span class="hl-1">@</span><span class="hl-0">Mixin</span><span class="hl-1">(</span><span class="hl-8">M2</span><span class="hl-1">)</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">CombinedModel</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Model</span><span class="hl-1"> {}</span><br/><br/><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-7">CombinedModel</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">M1</span><span class="hl-1">, </span><span class="hl-7">M2</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<h2 id="field" class="tsd-anchor-link">Field<a href="#field" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<h3 id="required-vs-optional" class="tsd-anchor-link">Required vs. Optional<a href="#required-vs-optional" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The <code>required</code> modifier can be declared at the <code>field metadata</code> or <code>schema</code> level:</p>
<pre><code class="Typescript"><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Name</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">first</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;  </span><span class="hl-3">// schema level required</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">Required</span><span class="hl-1">()     </span><span class="hl-3">// field metadata level required</span><br/><span class="hl-1">  </span><span class="hl-4">last</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;   </span><span class="hl-3">// schema level required</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Sometimes, the two levels may have conflicting opinions:</p>
<pre><code class="Typescript"><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Name</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">first</span><span class="hl-1">?: </span><span class="hl-7">string</span><span class="hl-1">;  </span><span class="hl-3">// schema level optional</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">Required</span><span class="hl-1">(</span><span class="hl-6">false</span><span class="hl-1">) </span><span class="hl-3">// field metadata level: optional</span><br/><span class="hl-1">  </span><span class="hl-4">last</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;    </span><span class="hl-3">// schema level: required</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>It depends on the adapter to resolve these conflicts.</p>
<h3 id="readonly" class="tsd-anchor-link">Readonly<a href="#readonly" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The <code>readonly</code> modifier can be declared at the <code>field metadata</code> or <code>schema</code> level:</p>
<pre><code class="Typescript"><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Name</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-4">first</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;  </span><span class="hl-3">// schema level readonly</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">Readonly</span><span class="hl-1">()     </span><span class="hl-3">// field metadata level readonly</span><br/><span class="hl-1">  </span><span class="hl-4">last</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;   </span><span class="hl-3">// schema level non-readonly</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>It depends on the adapter to resolve these conflicts.</p>
<h3 id="autogen" class="tsd-anchor-link">Autogen<a href="#autogen" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The <code>@Autogen()</code> decorator marks a field as both readonly and auto-generated. This is useful for fields that are automatically populated by the system (e.g., timestamps, computed values).</p>
<pre><code class="Typescript"><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Record</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Model</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-0">Autogen</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-4">createdAt</span><span class="hl-1">: </span><span class="hl-7">Date</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="default" class="tsd-anchor-link">Default<a href="#default" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The <code>default</code> value can be set at the <code>field metadata</code> level:</p>
<pre><code class="Typescript"><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Name</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-0">Default</span><span class="hl-1">(</span><span class="hl-2">&#39;foo&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-4">first</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">Default</span><span class="hl-1">(() </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-2">&#39;bar&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-4">last</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="modelmodelize" class="tsd-anchor-link">Model.modelize()<a href="#modelmodelize" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="Typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">A7Model</span><span class="hl-1">, </span><span class="hl-4">StrictModel</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@ark7/model&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Name</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">StrictModel</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">first</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">last</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">User</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">StrictModel</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">email</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">name</span><span class="hl-1">?: </span><span class="hl-7">Name</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-8">user</span><span class="hl-1"> = </span><span class="hl-4">User</span><span class="hl-1">.</span><span class="hl-0">modelize</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;test@google.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">name:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">first:</span><span class="hl-1"> </span><span class="hl-2">&#39;foo&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">last:</span><span class="hl-1"> </span><span class="hl-2">&#39;bar&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">user</span><span class="hl-1">.</span><span class="hl-4">should</span><span class="hl-1">.</span><span class="hl-4">be</span><span class="hl-1">.</span><span class="hl-0">instanceof</span><span class="hl-1">(</span><span class="hl-4">User</span><span class="hl-1">);</span><br/><span class="hl-4">user</span><span class="hl-1">.</span><span class="hl-4">name</span><span class="hl-1">.</span><span class="hl-4">should</span><span class="hl-1">.</span><span class="hl-4">be</span><span class="hl-1">.</span><span class="hl-0">instanceof</span><span class="hl-1">(</span><span class="hl-4">Name</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="toobject-tojson" class="tsd-anchor-link">.toObject() &amp; .toJSON()<a href="#toobject-tojson" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="Typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">A7Model</span><span class="hl-1">, </span><span class="hl-4">StrictModel</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@ark7/model&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Name</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">StrictModel</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">first</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">last</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">User</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">StrictModel</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">email</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">name</span><span class="hl-1">?: </span><span class="hl-7">Name</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-8">user</span><span class="hl-1"> = </span><span class="hl-4">User</span><span class="hl-1">.</span><span class="hl-0">modelize</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;test@google.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">name:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">first:</span><span class="hl-1"> </span><span class="hl-2">&#39;foo&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">last:</span><span class="hl-1"> </span><span class="hl-2">&#39;bar&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">user</span><span class="hl-1">.</span><span class="hl-0">toObject</span><span class="hl-1">().</span><span class="hl-4">should</span><span class="hl-1">.</span><span class="hl-4">be</span><span class="hl-1">.</span><span class="hl-0">deepEqual</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;test@google.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">name:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">first:</span><span class="hl-1"> </span><span class="hl-2">&#39;foo&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">last:</span><span class="hl-1"> </span><span class="hl-2">&#39;bar&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="data-level" class="tsd-anchor-link">Data Level<a href="#data-level" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Each field is assigned a level number. The higher the level number, the more restricted or confidential the field is. We have predefined five data levels:</p>
<pre><code>1. BASIC (10) - The basic field that will be used in the most scenarios.
                Usually, presented when it's referenced by other model.

2. SHORT (20) - The fields that are useful for displaying as a list or
                table. Usually, presented in the find or search endpoints.

3. DETAIL (30) - The fields that contains detail information. Usually,
                 presented in the get endpoints.

4. CONFIDENTIAL (40) - The fields that contains sensitive information.
                       Usually, not returning to the client or only to
                       admins with special privileges.

5. NEVER (1000) - The fields that are never returns.
</code></pre>
<p><strong>Projection:</strong></p>
<p>We can do the projection by providing a filter level. Any fields with level
numbers that are smaller or equal to the filter level will be projected. You can
tune the filter level by specifying the passLevelMap in the option.</p>
<pre><code class="Typescript"><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Name</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">StrictModel</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-0">Basic</span><span class="hl-1">() </span><span class="hl-4">first</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">  @</span><span class="hl-0">Basic</span><span class="hl-1">() </span><span class="hl-4">last</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">User</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">StrictModel</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-0">Basic</span><span class="hl-1">() </span><span class="hl-4">email</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">  @</span><span class="hl-0">Short</span><span class="hl-1">() </span><span class="hl-4">name</span><span class="hl-1">?: </span><span class="hl-7">Name</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-8">user</span><span class="hl-1"> = </span><span class="hl-4">User</span><span class="hl-1">.</span><span class="hl-0">modelize</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;test@google.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">name:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">first:</span><span class="hl-1"> </span><span class="hl-2">&#39;foo&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">last:</span><span class="hl-1"> </span><span class="hl-2">&#39;bar&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">user</span><span class="hl-1">.</span><span class="hl-0">toObject</span><span class="hl-1">({ </span><span class="hl-4">level:</span><span class="hl-1"> </span><span class="hl-4">DefaultDataLevel</span><span class="hl-1">.</span><span class="hl-8">BASIC</span><span class="hl-1"> }).</span><span class="hl-4">should</span><span class="hl-1">.</span><span class="hl-4">be</span><span class="hl-1">.</span><span class="hl-0">deepEqual</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;test@google.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">user</span><span class="hl-1">.</span><span class="hl-0">toObject</span><span class="hl-1">({ </span><span class="hl-4">level:</span><span class="hl-1"> </span><span class="hl-4">DefaultDataLevel</span><span class="hl-1">.</span><span class="hl-8">SHORT</span><span class="hl-1"> }).</span><span class="hl-4">should</span><span class="hl-1">.</span><span class="hl-4">be</span><span class="hl-1">.</span><span class="hl-0">deepEqual</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;test@google.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">name:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">first:</span><span class="hl-1"> </span><span class="hl-2">&#39;foo&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">last:</span><span class="hl-1"> </span><span class="hl-2">&#39;bar&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Population:</strong></p>
<p>For a reference field, when the filter level is greater than the
populateLevel specified by the option, the field will be populated.</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">User</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Model</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-0">Virtual</span><span class="hl-1">({ ... })</span><br/><span class="hl-1">  @</span><span class="hl-0">Level</span><span class="hl-1">({ </span><span class="hl-4">populateLevel:</span><span class="hl-1"> </span><span class="hl-4">DefaultDataLevel</span><span class="hl-1">.</span><span class="hl-8">DETAIL</span><span class="hl-1"> })</span><br/><span class="hl-1">  </span><span class="hl-4">posts</span><span class="hl-1">: </span><span class="hl-7">Post</span><span class="hl-1">[];</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Post</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Model</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">author</span><span class="hl-1">: </span><span class="hl-7">Ref</span><span class="hl-1">&lt;</span><span class="hl-7">User</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="reference" class="tsd-anchor-link">Reference<a href="#reference" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The <code>@Reference()</code> decorator marks a field as a reference to another model. The <code>Ref&lt;T&gt;</code> type represents a field that can hold either an ID or a populated model instance.</p>
<pre><code class="Typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">A7Model</span><span class="hl-1">, </span><span class="hl-4">Model</span><span class="hl-1">, </span><span class="hl-4">Ref</span><span class="hl-1">, </span><span class="hl-4">Reference</span><span class="hl-1">, </span><span class="hl-4">asModel</span><span class="hl-1">, </span><span class="hl-4">idOf</span><span class="hl-1">, </span><span class="hl-4">isSameModel</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@ark7/model&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Author</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Model</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">name</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Book</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Model</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">title</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">Reference</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-4">author</span><span class="hl-1">: </span><span class="hl-7">Ref</span><span class="hl-1">&lt;</span><span class="hl-7">Author</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Utility functions for working with references:</p>
<ul>
<li><code>asModel(ref)</code> (alias <code>$$</code>) - Casts a <code>Ref&lt;T&gt;</code> to <code>T</code>.</li>
<li><code>idOf(ref)</code> - Extracts the ID from a reference.</li>
<li><code>isModel(ref)</code> - Checks if the reference is a populated model.</li>
<li><code>isSameModel(ref1, ref2)</code> - Compares two references by their IDs.</li>
</ul>
<h3 id="virtual" class="tsd-anchor-link">Virtual<a href="#virtual" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The <code>@Virtual()</code> decorator defines a virtual field that is populated from another model via a local/foreign field relationship, similar to Mongoose virtuals.</p>
<pre><code class="Typescript"><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Author</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Model</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">name</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">Virtual</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">ref:</span><span class="hl-1"> </span><span class="hl-2">&#39;Book&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">localField:</span><span class="hl-1"> </span><span class="hl-2">&#39;_id&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">foreignField:</span><span class="hl-1"> </span><span class="hl-2">&#39;author&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  </span><span class="hl-4">books</span><span class="hl-1">: </span><span class="hl-7">Book</span><span class="hl-1">[];</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Book</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Model</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">title</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">Reference</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-4">author</span><span class="hl-1">: </span><span class="hl-7">Ref</span><span class="hl-1">&lt;</span><span class="hl-7">Author</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Options:</p>
<ul>
<li><code>ref</code> - The referenced model name or class.</li>
<li><code>localField</code> - The field on the current model to match against.</li>
<li><code>foreignField</code> - The field on the referenced model to match.</li>
<li><code>justOne</code> - If true, populates a single document instead of an array.</li>
<li><code>count</code> - If true, returns only the count of matching documents.</li>
<li><code>match</code> - Additional query conditions for filtering.</li>
</ul>
<h3 id="index" class="tsd-anchor-link">Index<a href="#index" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The <code>@Index()</code>, <code>@Unique()</code>, and <code>@CompoundIndex()</code> decorators configure database indexes.</p>
<pre><code class="Typescript"><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-1">@</span><span class="hl-0">CompoundIndex</span><span class="hl-1">({ </span><span class="hl-4">email:</span><span class="hl-1"> </span><span class="hl-10">1</span><span class="hl-1">, </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-10">1</span><span class="hl-1"> })</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">User</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Model</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-0">Unique</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-4">email</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">Index</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-4">name</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">Index</span><span class="hl-1">({ </span><span class="hl-4">sparse:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1"> })</span><br/><span class="hl-1">  </span><span class="hl-4">nickname</span><span class="hl-1">?: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<ul>
<li><code>@Index(options?)</code> - Creates an index on the field. Options: <code>unique</code>, <code>sparse</code>, <code>indexDisabled</code>.</li>
<li><code>@Unique(options?)</code> - Shorthand for a unique index. Options: <code>sparse</code>.</li>
<li><code>@CompoundIndex(fields, options?)</code> - Class-level decorator for compound indexes.</li>
</ul>
<h3 id="encrypted" class="tsd-anchor-link">Encrypted<a href="#encrypted" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The <code>@Encrypted()</code> decorator marks a field for encryption at the database level.</p>
<pre><code class="Typescript"><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">User</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Model</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-0">Encrypted</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-4">ssn</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">Encrypted</span><span class="hl-1">({ </span><span class="hl-4">algorithm:</span><span class="hl-1"> </span><span class="hl-4">EncryptAlgorithm</span><span class="hl-1">.</span><span class="hl-8">AEAD_AES_256_CBC_HMAC_SHA_512_RANDOM</span><span class="hl-1"> })</span><br/><span class="hl-1">  </span><span class="hl-4">secretNotes</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Options:</p>
<ul>
<li><code>algorithm</code> - Encryption algorithm (default: <code>AEAD_AES_256_CBC_HMAC_SHA_512_DETERMINISTIC</code>).</li>
<li><code>keyAltName</code> - The data key alias name (default: <code>'defaultDataKey'</code>).</li>
<li><code>autoDecrypt</code> - Whether to auto-decrypt the field (default: <code>false</code>).</li>
</ul>
<h3 id="tag" class="tsd-anchor-link">Tag<a href="#tag" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The <code>@Tag()</code> decorator adds tags to a field for categorization or filtering.</p>
<pre><code class="Typescript"><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Settings</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Model</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-0">Tag</span><span class="hl-1">(</span><span class="hl-2">&#39;ConfigField&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-4">theme</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">Tag</span><span class="hl-1">([</span><span class="hl-2">&#39;ConfigField&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;UserPref&#39;</span><span class="hl-1">])</span><br/><span class="hl-1">  </span><span class="hl-4">language</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="nopersist" class="tsd-anchor-link">NoPersist<a href="#nopersist" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The <code>@NoPersist()</code> decorator marks a field as in-memory only. The field will not be persisted to the database.</p>
<pre><code class="Typescript"><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Session</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Model</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">userId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">NoPersist</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-4">cachedProfile</span><span class="hl-1">: </span><span class="hl-7">object</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="present" class="tsd-anchor-link">Present<a href="#present" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The <code>@Present()</code> decorator controls whether a field is present based on a static value or a condition evaluated against the model instance.</p>
<pre><code class="Typescript"><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Feature</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Model</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-0">Present</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-4">enabledField</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">Present</span><span class="hl-1">(() </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-4">env</span><span class="hl-1">.</span><span class="hl-8">NODE_ENV</span><span class="hl-1"> === </span><span class="hl-2">&#39;development&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-4">debugField</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="important" class="tsd-anchor-link">Important<a href="#important" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The <code>@Important()</code> decorator prevents a field from being overridden by the natural field resolution order (Child Class &gt; Mixin Class &gt; Parent Class).</p>
<pre><code class="Typescript"><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Base</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Model</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-0">Important</span><span class="hl-1">()</span><br/><span class="hl-1">  @</span><span class="hl-0">Detail</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-4">role</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="mmap" class="tsd-anchor-link">MMap<a href="#mmap" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The <code>@MMap()</code> decorator and <code>MMap&lt;T&gt;</code> type provide Map support for model fields.</p>
<pre><code class="Typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">A7Model</span><span class="hl-1">, </span><span class="hl-4">Model</span><span class="hl-1">, </span><span class="hl-4">MMap</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@ark7/model&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Config</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Model</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-0">MMap</span><span class="hl-1">(</span><span class="hl-4">String</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-4">settings</span><span class="hl-1">: </span><span class="hl-7">MMap</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="idtype" class="tsd-anchor-link">IDType<a href="#idtype" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The <code>@IDType()</code> decorator configures ID handling for nested fields.</p>
<pre><code class="Typescript"><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Record</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Model</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-0">IDType</span><span class="hl-1">({ </span><span class="hl-4">forceIdToString:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1"> })</span><br/><span class="hl-1">  </span><span class="hl-4">nested</span><span class="hl-1">: </span><span class="hl-7">SubRecord</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="editable" class="tsd-anchor-link">Editable<a href="#editable" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The <code>@Editable()</code> decorator attaches UI-oriented metadata to a field, useful for auto-generating forms and display components.</p>
<pre><code class="Typescript"><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">User</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Model</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-0">Editable</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">inputType:</span><span class="hl-1"> </span><span class="hl-2">&#39;text&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">hint:</span><span class="hl-1"> </span><span class="hl-2">&#39;Enter your full name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  </span><span class="hl-4">name</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">Editable</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">inputType:</span><span class="hl-1"> </span><span class="hl-2">&#39;email&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">hideDisplay:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  </span><span class="hl-4">email</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">Editable</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;select&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">options:</span><span class="hl-1"> [</span><br/><span class="hl-1">      { </span><span class="hl-4">label:</span><span class="hl-1"> </span><span class="hl-2">&#39;Admin&#39;</span><span class="hl-1">, </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-2">&#39;admin&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">      { </span><span class="hl-4">label:</span><span class="hl-1"> </span><span class="hl-2">&#39;User&#39;</span><span class="hl-1">, </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  </span><span class="hl-4">role</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Options include: <code>type</code>, <code>inputType</code>, <code>options</code>, <code>hint</code>, <code>info</code>, <code>disabled</code>, <code>hideDisplay</code>, <code>hideEditing</code>, <code>hide</code>, <code>reference</code>, <code>displayWidth</code>, <code>editWidth</code>, <code>listItemRemovable</code>, <code>copyText</code>, <code>autoHide</code>.</p>
<h3 id="proto" class="tsd-anchor-link">Proto<a href="#proto" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The <code>@Proto()</code> decorator configures Protocol Buffer field options.</p>
<pre><code class="Typescript"><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Message</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">Model</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-0">Proto</span><span class="hl-1">({ </span><span class="hl-4">protoAssignedId:</span><span class="hl-1"> </span><span class="hl-10">1</span><span class="hl-1"> })</span><br/><span class="hl-1">  </span><span class="hl-4">title</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">Proto</span><span class="hl-1">({ </span><span class="hl-4">protoAssignedId:</span><span class="hl-1"> </span><span class="hl-10">2</span><span class="hl-1">, </span><span class="hl-4">protoFieldType:</span><span class="hl-1"> </span><span class="hl-2">&#39;int32&#39;</span><span class="hl-1"> })</span><br/><span class="hl-1">  </span><span class="hl-4">count</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Options:</p>
<ul>
<li><code>protoAssignedId</code> - The Protocol Buffer field number.</li>
<li><code>protoFieldType</code> - Override the proto field type (<code>'none'</code>, <code>'int32'</code>, <code>'int64'</code>, <code>'string'</code>, <code>'float'</code>, <code>'double'</code>).</li>
</ul>
<h3 id="attachment" class="tsd-anchor-link">Attachment<a href="#attachment" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Sometimes, it's necessary to attach metadata to an instance.</p>
<pre><code class="Typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">A7Model</span><span class="hl-1">, </span><span class="hl-4">StrictModel</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@ark7/model&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">A7Model</span><span class="hl-1">({})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">Name</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">StrictModel</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">first</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">last</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-8">name</span><span class="hl-1"> = </span><span class="hl-4">Name</span><span class="hl-1">.</span><span class="hl-0">modelize</span><span class="hl-1">({ </span><span class="hl-4">first:</span><span class="hl-1"> </span><span class="hl-2">&#39;foo&#39;</span><span class="hl-1">, </span><span class="hl-4">last:</span><span class="hl-1"> </span><span class="hl-2">&#39;bar&#39;</span><span class="hl-1">});</span><br/><br/><span class="hl-4">name</span><span class="hl-1">.</span><span class="hl-0">$attach</span><span class="hl-1">({ </span><span class="hl-4">hello:</span><span class="hl-1"> </span><span class="hl-2">&#39;world&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-4">name</span><span class="hl-1">.</span><span class="hl-0">$attach</span><span class="hl-1">().</span><span class="hl-4">should</span><span class="hl-1">.</span><span class="hl-4">be</span><span class="hl-1">.</span><span class="hl-0">deepEqual</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">__$attach:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">hello:</span><span class="hl-1"> </span><span class="hl-2">&#39;world&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// This won&#39;t affect toObject() or toJSON():</span><br/><span class="hl-4">name</span><span class="hl-1">.</span><span class="hl-0">toObject</span><span class="hl-1">().</span><span class="hl-4">should</span><span class="hl-1">.</span><span class="hl-4">be</span><span class="hl-1">.</span><span class="hl-0">deepEqual</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">first:</span><span class="hl-1"> </span><span class="hl-2">&#39;foo&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">last:</span><span class="hl-1"> </span><span class="hl-2">&#39;bar&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h2 id="built-in-types" class="tsd-anchor-link">Built-in Types<a href="#built-in-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<h3 id="email" class="tsd-anchor-link">Email<a href="#email" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Email address type.</p>
<h3 id="stringuuid" class="tsd-anchor-link">StringUUID<a href="#stringuuid" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>UUID string type. Used for UUID fields that should be stored as strings.</p>
<h3 id="ssn" class="tsd-anchor-link">SSN<a href="#ssn" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Social Security Number type.</p>
<h3 id="phonenumber" class="tsd-anchor-link">PhoneNumber<a href="#phonenumber" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Phone number type.</p>
<h3 id="date" class="tsd-anchor-link">Date<a href="#date" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Date type with custom modelize handler that automatically converts values to <code>Date</code> instances via <code>new Date(val)</code>.</p>
<h3 id="id" class="tsd-anchor-link">ID<a href="#id" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Base ID interface used for model identifiers (e.g., <code>_id</code> fields).</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#ark7model"><span>@ark7/model</span></a><ul><li><a href="#table-of-contents"><span>Table of <wbr/>Contents</span></a></li><li><a href="#installation"><span>Installation</span></a></li><li><a href="#quick-start"><span>Quick <wbr/>Start</span></a></li><li><ul><li><a href="#define-a-model"><span>Define a <wbr/>Model</span></a></li></ul></li><li><a href="#model"><span>Model</span></a></li><li><ul><li><a href="#model-metadata"><span>Model <wbr/>Metadata</span></a></li><li><a href="#model-configuration"><span>Model <wbr/>Configuration</span></a></li><li><a href="#model-definition"><span>Model <wbr/>Definition</span></a></li><li><a href="#discrimination"><span>Discrimination</span></a></li><li><a href="#mixin"><span>Mixin</span></a></li></ul></li><li><a href="#field"><span>Field</span></a></li><li><ul><li><a href="#required-vs-optional"><span>Required vs. <wbr/>Optional</span></a></li><li><a href="#readonly"><span>Readonly</span></a></li><li><a href="#autogen"><span>Autogen</span></a></li><li><a href="#default"><span>Default</span></a></li><li><a href="#modelmodelize"><span>Model.modelize()</span></a></li><li><a href="#toobject-tojson"><span>.to<wbr/>Object() &amp; .to<wbr/>JSON()</span></a></li><li><a href="#data-level"><span>Data <wbr/>Level</span></a></li><li><a href="#reference"><span>Reference</span></a></li><li><a href="#virtual"><span>Virtual</span></a></li><li><a href="#index"><span>Index</span></a></li><li><a href="#encrypted"><span>Encrypted</span></a></li><li><a href="#tag"><span>Tag</span></a></li><li><a href="#nopersist"><span>No<wbr/>Persist</span></a></li><li><a href="#present"><span>Present</span></a></li><li><a href="#important"><span>Important</span></a></li><li><a href="#mmap"><span>M<wbr/>Map</span></a></li><li><a href="#idtype"><span>ID<wbr/>Type</span></a></li><li><a href="#editable"><span>Editable</span></a></li><li><a href="#proto"><span>Proto</span></a></li><li><a href="#attachment"><span>Attachment</span></a></li></ul></li><li><a href="#built-in-types"><span>Built-<wbr/>in <wbr/>Types</span></a></li><li><ul><li><a href="#email"><span>Email</span></a></li><li><a href="#stringuuid"><span>String<wbr/>UUID</span></a></li><li><a href="#ssn"><span>SSN</span></a></li><li><a href="#phonenumber"><span>Phone<wbr/>Number</span></a></li><li><a href="#date"><span>Date</span></a></li><li><a href="#id"><span>ID</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">@ark7/model - v2.0.56</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
